<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Upload Video | AI Coach</title>

    <!-- Google Font: Roboto -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Upload Page CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/upload.css') }}"
    />
  </head>
  <body>
    <header>
      <div class="logo">AI<span>Coach</span></div>
      <nav>
        <a href="{{ url_for('home') }}">Home</a>
        <a href="#">Live</a>
        <a href="#">Reports</a>
        <a href="#">About</a>
        <a href="#">Login</a>
      </nav>
    </header>

    <section class="upload-section">
      <h1>ðŸ“¤ Upload Your Basketball Video</h1>
      <p>
        This will detect 3-point shots and generate a smart performance report.
      </p>

      <!-- Flash messages -->
      <!-- {% with messages = get_flashed_messages() %} {% if messages %}
      <div class="flash-messages">
        {% for message in messages %}
        <p>{{ message }}</p>
        {% endfor %}
      </div> -->
      <!-- {% endif %} {% endwith %} -->

      <form
        action="{{ url_for('upload_video') }}"
        method="POST"
        enctype="multipart/form-data"
        aria-label="Video upload form"
      >
        <label for="video-upload" class="sr-only">Upload Video File</label>
        <input
          id="video-upload"
          type="file"
          name="video"
          accept="video/*"
          required
        />
        <br />
        <button type="submit">Upload Video</button>
      </form>

      <!-- Video preview after upload -->
      {% if video_file %}
      <h2>Uploaded Video Preview:</h2>
      <video width="640" height="360" controls>
        <source
          src="{{ url_for('static', filename='uploads/' + video_file) }}"
          type="video/mp4"
        />
        Your browser does not support the video tag.
      </video>
      {% endif %}
    </section>

    <footer>
      <p>Â© 2025 AI Coach. All rights reserved.</p>
    </footer>
  </body>
</html>
