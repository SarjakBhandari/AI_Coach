<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Video Preview | AI Coach</title>

    <!-- Google Font: Roboto -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Your CSS file if any -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/upload.css') }}"
    />
    <style>
      .video-container {
        display: flex;
        flex-wrap: wrap;
        gap: 30px;
        margin-top: 20px;
        justify-content: center;
      }
      .video-box {
        flex: 1 1 300px;
        text-align: center;
      }
      .stats {
        text-align: center;
        font-size: 1.2rem;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="logo">AI<span>Coach</span></div>
      <nav>
        <a href="{{ url_for('home') }}">Home</a>
        <a href="#">Live</a>
        <a href="#">Reports</a>
        <a href="#">About</a>
        <a href="#">Login</a>
      </nav>
    </header>

    <section class="upload-section">
      <h1>üéØ Video Preview & Detection Result</h1>

      <div class="video-container">
        <!-- Original Video -->
        <div class="video-box">
          <h2>Original Video</h2>
          <video width="360" controls>
            <source
              src="{{ url_for('static', filename='uploads/' + video_file) }}"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
        </div>

        <!-- Processed Video -->
        {% if processed_file %}
        <div class="video-box">
          <h2>Detected Output</h2>
          <video width="360" controls>
            <source
              src="{{ url_for('static', filename='processed/' + processed_file) }}"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>

          <div class="stats">
            <p>üèÄ <strong>Shots Made:</strong> {{ shots_made }}</p>
            <p>‚ùå <strong>Shots Missed:</strong> {{ shots_missed }}</p>
          </div>
        </div>
        {% endif %}
      </div>

      <!-- Start Detection Button (Only show if no processed video yet) -->
      {% if not processed_file %}
      <form
        action="{{ url_for('start_detection', video_file=video_file) }}"
        method="POST"
        style="text-align: center; margin-top: 30px"
      >
        <button type="submit">‚ñ∂Ô∏è Start Detection</button>
      </form>
      {% endif %}
    </section>

    <footer>
      <p>¬© 2025 AI Coach. All rights reserved.</p>
    </footer>
  </body>
</html>
